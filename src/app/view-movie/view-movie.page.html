<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Película</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="film-info">
  <ion-card>
    <ion-card-content>
      <form [formGroup]="viewForm" class="film-form">

        <ion-label class="film-title">{{ viewForm.get('titulo')?.value }}</ion-label>
        <br>
        <img [src]="viewForm.get('portada')?.value" class="film-poster"/>
        <br> <br>
        
        <ion-label class="film-detail">Género:</ion-label>
        <br>
        <ion-label>{{ viewForm.get('genero')?.value }}</ion-label>
        <br><br>
        
        <ion-label class="film-detail">Duración:</ion-label>
        <br>
        <ion-label>{{ viewForm.get('duracion')?.value }}</ion-label>
        <br><br>

        <ion-label class="film-detail">Director:</ion-label>
        <br>
        <ion-label>{{ viewForm.get('director')?.value }}</ion-label>
        <br><br>

        <ion-label class="film-detail">Sinopsis:</ion-label>
        <br>
        <ion-label>{{ viewForm.get('sinopsis')?.value }}</ion-label>
        <br><br>

        <ion-label class="film-detail">Precio:</ion-label>
        <br>
        <ion-label>{{ viewForm.get('precio')?.value | currency }}</ion-label>

        <ion-row class="col">
          <ion-col size="6" class="ion-text-center">
            <ion-button expand="block" (click)="addToCart(viewForm.value)" class="boton-carrito">
              <ion-label style="margin-right: 5px;">Añadir al carrito</ion-label>
              <ion-icon name="cart-outline"></ion-icon>
            </ion-button>
          </ion-col>
        
          <ion-col size="6" class="ion-text-center">
            <ion-button expand="block" (click)="openCalificarPelicula(viewForm.get('id')?.value)" class="boton-carrito"  color="warning">
              <ion-label style="margin-right: 5px;">Calificar pelicula</ion-label>
              <ion-icon name="star-outline"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>

        <ion-card-header class="titulo" color="warning">
          <ion-card-title class="t">Comentarios</ion-card-title>
        </ion-card-header>

        <ion-card-content>

          <ion-list *ngFor="let comentario of viewForm.get('comentario')?.value ; index as i">
            <ion-item>
              <ion-grid>
                <ion-row>
                  <ion-col size="1"> <!-- Aquí ajusta el tamaño del col según tus necesidades -->
                    <div class="profile-picture">
                      <img [src]="'https://picsum.photos/200/300?random=' + i" >
                    </div>
                  </ion-col>
                  <ion-col size="10"> <!-- Aquí ajusta el tamaño del col según tus necesidades -->
                    <ion-label>{{ comentario.correo }} | {{ comentario.usuario }} - {{ comentario.comentario }} <ion-icon name="star" class="star-filled"></ion-icon> {{ comentario.estrellas }}</ion-label>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-item>
          </ion-list>

        </ion-card-content>
      
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>